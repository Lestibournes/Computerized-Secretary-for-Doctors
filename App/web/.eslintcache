[{"/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/index.js":"1","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/CommonComponents.js":"2","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/RegisterPage.js":"3","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/init.js":"4","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/LoginPage.js":"5","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/SearchDoctorsPage.js":"6","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/firebase_config.js":"7"},{"size":689,"mtime":1609105844011,"results":"8","hashOfConfig":"9"},{"size":3376,"mtime":1609107571762,"results":"10","hashOfConfig":"9"},{"size":2302,"mtime":1609160507437,"results":"11","hashOfConfig":"9"},{"size":416,"mtime":1609457679086,"results":"12","hashOfConfig":"9"},{"size":1509,"mtime":1609160994495,"results":"13","hashOfConfig":"9"},{"size":1654,"mtime":1609438937035,"results":"14","hashOfConfig":"9"},{"size":524,"mtime":1609457778453,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xag7sa",{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/index.js",[],"/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/CommonComponents.js",["32"],"import React, { useState, useEffect, useContext } from 'react';\nimport { useField } from 'formik';\nimport { Link, NavLink, Redirect } from 'react-router-dom';\nimport { db, fb } from \"./init\";\n\nexport const TextInput = ({ label, ...props }) => {\n\t// useField() returns [formik.getFieldProps(), formik.getFieldMeta()]\n\t// which we can spread on <input> and alse replace ErrorMessage entirely.\n\tconst [field, meta] = useField(props);\n\tconst error = meta.touched && meta.error ? \"error\" : null;\n\tif (!props.id) {\n\t\tprops.id = props.name;\n\t}\n\telse if (!props.name) {\n\t\tprops.name = props.id;\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t<label htmlFor={props.id}>{label}</label>\n\t\t\t<input className={error} {...field} {...props} />\n\t\t\t{meta.touched && meta.error ? (\n\t\t\t\t<div className=\"error\">{meta.error}</div>\n\t\t\t) : null}\n\t\t</>\n\t);\n};\n\nexport function MainHeader(props) {\n\tconst auth = useAuth();\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"mainHeader\">\n\t\t\t\t<div className=\"title\">CSFPD</div>\n\t\t\t\t<nav>\n\t\t\t\t\t<NavLink className=\"button\" activeClassName=\"okay\" exact to=\"/\">Home</NavLink>\n\t\t\t\t\t<NavLink className=\"button\" activeClassName=\"okay\" to=\"/login\">Login</NavLink>\n\t\t\t\t\t<NavLink className=\"button\" activeClassName=\"okay\" to=\"/register\">Register</NavLink>\n\t\t\t\t</nav>\n\t\t\t\t<div>\n\t\t\t\t\t{auth.user ? \n\t\t\t\t\t<>\n\t\t\t\t\t\t{auth.name.first ? auth.name.first + \" \" : null}\n\t\t\t\t\t\t{auth.name.last ? auth.name.last + \" \" : null}\n\t\t\t\t\t\t{auth.user ? \"<\" + auth.user.email + \">\" : null}\n\t\t\t\t\t\t<Link className=\"button warning\" to=\"#\" onClick={auth.logout}>Log out</Link>\n\t\t\t\t\t</>\n\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport const AuthContext = React.createContext();\n\nexport function ProvideAuth({children}) {\n\tconst auth = useProvideAuth();\n\treturn <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>\n}\n\nexport const useAuth = () => {\n\treturn useContext(AuthContext);\n}\n\nfunction useProvideAuth() {\n\tconst [user, setUser] = useState(null);\n\tconst [name, setName] = useState({first: null, last: null});\n\t\n\tconst login = (email, password) => {\n\t\treturn fb.auth().signInWithEmailAndPassword(email, password).then((response) => {\n\t\t\tsetUser(response.user);\n\t\t\treturn response.user;\n\t\t});\n\t};\n\n\tconst logout = () => {\n\t\treturn fb.auth().signOut().then(() => {\n\t\t\tsetUser(null);\n\t\t});\n\t};\n\n\tconst register = (firstName, lastName, email, password) => {\n\t\treturn fb.auth().createUserWithEmailAndPassword(email, password).then((response) => {\n\t\t\tsetUser(response.user);\n\n\t\t\tdb.collection(\"users\").doc(response.user.uid).set({\n\t\t\t\tfirstName: firstName,\n\t\t\t\tlastName: lastName\n\t\t\t});\n\n\t\t\treturn response.user;\n\t\t});\n\t};\n\t\n\tconst verifyEmail = () => {\n\t\tif (user && !user.emailVerified) {\n\t\t\treturn user.sendEmailVerification().then(() => {\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.catch((erroe) => {\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst unsubscribe = fb.auth().onAuthStateChanged((user) => {\n\t\t\tif (user) {\n\t\t\t\tsetUser(user);\n\n\t\t\t\tdb.collection(\"users\").doc(user.uid).onSnapshot((doc) => {\n\t\t\t\t\tif (doc.data()) {\n\t\t\t\t\t\tsetName({\n\t\t\t\t\t\t\tfirst: doc.data().firstName,\n\t\t\t\t\t\t\tlast: doc.data().lastName\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetName({\n\t\t\t\t\t\t\tfirst: null,\n\t\t\t\t\t\t\tlast: null\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetUser(null);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn () => unsubscribe();\n\t}, []);\n\n\treturn {\n\t\tuser,\n\t\tname,\n\t\tlogin,\n\t\tlogout,\n\t\tregister,\n\t\tverifyEmail\n\t};\n}","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/RegisterPage.js",[],"/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/init.js",[],"/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/LoginPage.js",[],"/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/SearchDoctorsPage.js",["33","34","35","36"],"//Reactjs:\nimport React, { useEffect, useState } from 'react';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { TextInput, MainHeader, useAuth } from \"./CommonComponents\";\nimport { Link, Redirect } from 'react-router-dom';\nimport { fn } from './init';\n\nfn.useEmulator(\"localhost\", 5001);\n\nconst searchDoctors = fn.httpsCallable(\"searchDoctors\");\n\nexport function SearchDoctorsPage() {\n\tconst grep = \"o\"\n\n\tconst auth = useAuth();\n\tconst [doctors, setDoctors] = useState([]);\n\n\treturn (\n\t\t<div className=\"page\">\n\t\t\t{!auth.user ? <Redirect to=\"/login\" /> : null }\n\t\t\t<MainHeader section=\"Home\"></MainHeader>\n\t\t\t<div className=\"content\">\n\n\t\t\t\t<div className=\"searchbar\">\n\t\t\t\t\t<h1>Search Doctors</h1>\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\temail: \"\",\n\t\t\t\t\t\t\tpassword: \"\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalidationSchema={Yup.object({\n\t\t\t\t\t\t\tname: Yup.string()\n\t\t\t\t\t\t\t\t.min(1)\n\t\t\t\t\t\t\t\t.required(\"\")\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tonSubmit={async (values, { setSubmitting }) => {\n\t\t\t\t\t\t\tsetSubmitting(true);\n\t\t\t\t\t\t\tsearchDoctors({name: values.name}).then((result) => {\n\t\t\t\t\t\t\t\tif (result.data.length == 0) {\n\t\t\t\t\t\t\t\t\tsetDoctors([\"No doctors found\"]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tsetDoctors(result.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Yoni Robinson\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button className=\"okay\" type=\"submit\">Search</button>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Formik>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"searchresults\">\n\t\t\t\t\t{\n\t\t\t\t\t\tdoctors.map((name, index) => {\n\t\t\t\t\t\t\treturn <div key={index}>{name}</div>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}","/home/yitz/Documents/Azrieli/Final Project/Computerized Secretary for Doctors/App/web/src/firebase_config.js",[],{"ruleId":"37","severity":1,"message":"38","line":3,"column":25,"nodeType":"39","messageId":"40","endLine":3,"endColumn":33},{"ruleId":"37","severity":1,"message":"41","line":2,"column":17,"nodeType":"39","messageId":"40","endLine":2,"endColumn":26},{"ruleId":"37","severity":1,"message":"42","line":6,"column":10,"nodeType":"39","messageId":"40","endLine":6,"endColumn":14},{"ruleId":"37","severity":1,"message":"43","line":14,"column":8,"nodeType":"39","messageId":"40","endLine":14,"endColumn":12},{"ruleId":"44","severity":1,"message":"45","line":40,"column":32,"nodeType":"46","messageId":"47","endLine":40,"endColumn":34},"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'Link' is defined but never used.","'grep' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected"]